module.exports=[18622,(e,t,r)=>{t.exports=e.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},24725,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/after-task-async-storage.external.js",()=>require("next/dist/server/app-render/after-task-async-storage.external.js"))},24361,(e,t,r)=>{t.exports=e.x("util",()=>require("util"))},70406,(e,t,r)=>{t.exports=e.x("next/dist/compiled/@opentelemetry/api",()=>require("next/dist/compiled/@opentelemetry/api"))},93695,(e,t,r)=>{t.exports=e.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},61724,(e,t,r)=>{t.exports=e.x("next/dist/compiled/next-server/app-route-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-route-turbo.runtime.prod.js"))},25619,(e,t,r)=>{},18414,e=>{"use strict";e.s(["handler",()=>j,"patchFetch",()=>N,"routeModule",()=>w,"serverHooks",()=>T,"workAsyncStorage",()=>A,"workUnitAsyncStorage",()=>b],18414);var t=e.i(47909),r=e.i(74017),a=e.i(96250),i=e.i(59756),s=e.i(61916),n=e.i(69741),o=e.i(16795),l=e.i(87718),d=e.i(95169),u=e.i(47587),c=e.i(66012),p=e.i(70101),m=e.i(26937),h=e.i(10372),x=e.i(93695);e.i(52474);var f=e.i(220);e.s(["POST",()=>R],22976);var g=e.i(89171);let y=new class{apiToken;host;fromEmail;fromName;constructor(){if(this.apiToken=process.env.MAILTRAP_API_TOKEN,this.host=process.env.MAILTRAP_HOST,this.fromEmail=process.env.MAILTRAP_FROM_EMAIL,this.fromName=process.env.MAILTRAP_FROM_NAME,!this.apiToken||!this.host||!this.fromEmail||!this.fromName)throw Error("Missing Mailtrap configuration in environment variables")}async sendEmail(e){try{let t={from:{email:this.fromEmail,name:this.fromName},to:[{email:e.to}],subject:e.subject,text:e.text,html:e.html,category:e.category||"System Notification"},r=await fetch(`https://${this.host}/api/send`,{method:"POST",headers:{Authorization:`Bearer ${this.apiToken}`,"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){let e=await r.text();throw Error(`Mailtrap API error: ${r.status} ${e}`)}let a=await r.json();return{success:!0,message_ids:a.message_ids}}catch(e){return console.error("Email sending failed:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error"}}}async sendTestEmail(e){return this.sendEmail({to:e,subject:"Test Email - ManajemenAset System",text:"Congratulations! Your email configuration is working correctly.",html:`
        <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px;">
          <h2 style="color: #187F7E;">Email Configuration Test</h2>
          <p>Congratulations! Your email configuration is working correctly.</p>
          <div style="background-color: #f8f9fa; padding: 15px; border-radius: 5px; margin: 20px 0;">
            <h3 style="margin: 0 0 10px 0; color: #333;">System Information:</h3>
            <ul style="margin: 0; padding-left: 20px;">
              <li>Application: ManajemenAset System</li>
              <li>Service: Mailtrap Email</li>
              <li>Time: ${new Date().toLocaleString("id-ID")}</li>
            </ul>
          </div>
          <p style="color: #666; font-size: 12px;">This is an automated test email from ManajemenAset System.</p>
        </div>
      `,category:"Email Test"})}async sendNotificationEmail(e,t,r){return this.sendEmail({to:e,subject:`Notification: ${t}`,text:r,html:`
        <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px;">
          <h2 style="color: #187F7E;">${t}</h2>
          <div style="background-color: #f8f9fa; padding: 15px; border-radius: 5px; margin: 20px 0;">
            <p style="margin: 0; line-height: 1.6;">${r}</p>
          </div>
          <p style="color: #666; font-size: 12px;">This notification was sent from ManajemenAset System at ${new Date().toLocaleString("id-ID")}.</p>
        </div>
      `,category:"System Notification"})}async sendSecurityAlert(e,t,r){return this.sendEmail({to:e,subject:`Security Alert: ${t}`,text:`Security Alert: ${t}

Details: ${r}`,html:`
        <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px;">
          <div style="background-color: #fef2f2; border-left: 4px solid #ef4444; padding: 15px; margin-bottom: 20px;">
            <h2 style="color: #dc2626; margin: 0 0 10px 0;">ðŸ”’ Security Alert</h2>
            <h3 style="color: #dc2626; margin: 0 0 10px 0;">${t}</h3>
          </div>
          <div style="background-color: #f8f9fa; padding: 15px; border-radius: 5px; margin: 20px 0;">
            <h4 style="margin: 0 0 10px 0; color: #333;">Details:</h4>
            <p style="margin: 0; line-height: 1.6;">${r}</p>
          </div>
          <div style="background-color: #fef3c7; padding: 15px; border-radius: 5px; margin: 20px 0;">
            <p style="margin: 0; color: #92400e;"><strong>Action Required:</strong> Please review your account security settings if this activity was not authorized.</p>
          </div>
          <p style="color: #666; font-size: 12px;">This security alert was sent from ManajemenAset System at ${new Date().toLocaleString("id-ID")}.</p>
        </div>
      `,category:"Security Alert"})}};var v=e.i(24652);async function R(e){try{let t;if(!function(e){try{let t=e.headers.get("Authorization");if(!t||!t.startsWith("Bearer "))return null;let r=t.substring(7);return v.default.verify(r,process.env.JWT_SECRET)}catch(e){return console.error("Token verification error:",e),null}}(e))return g.NextResponse.json({error:"Unauthorized"},{status:401});let{type:r,email:a,title:i,message:s,alertType:n,details:o}=await e.json();if(!a)return g.NextResponse.json({error:"Email address is required"},{status:400});switch(r){case"test":t=await y.sendTestEmail(a);break;case"notification":if(!i||!s)return g.NextResponse.json({error:"Title and message are required for notifications"},{status:400});t=await y.sendNotificationEmail(a,i,s);break;case"security":if(!n||!o)return g.NextResponse.json({error:"Alert type and details are required for security alerts"},{status:400});t=await y.sendSecurityAlert(a,n,o);break;default:return g.NextResponse.json({error:"Invalid email type"},{status:400})}if(t.success)return g.NextResponse.json({success:!0,message:"Email sent successfully",messageIds:t.message_ids});return g.NextResponse.json({success:!1,error:t.error},{status:500})}catch(e){return console.error("Email API error:",e),g.NextResponse.json({error:"Failed to send email"},{status:500})}}var E=e.i(22976);let w=new t.AppRouteRouteModule({definition:{kind:r.RouteKind.APP_ROUTE,page:"/api/email/route",pathname:"/api/email",filename:"route",bundlePath:""},distDir:"dist",relativeProjectDir:"",resolvedPagePath:"[project]/src/app/api/email/route.ts",nextConfigOutput:"standalone",userland:E}),{workAsyncStorage:A,workUnitAsyncStorage:b,serverHooks:T}=w;function N(){return(0,a.patchFetch)({workAsyncStorage:A,workUnitAsyncStorage:b})}async function j(e,t,a){var g;let y="/api/email/route";y=y.replace(/\/index$/,"")||"/";let v=await w.prepare(e,t,{srcPage:y,multiZoneDraftMode:!1});if(!v)return t.statusCode=400,t.end("Bad Request"),null==a.waitUntil||a.waitUntil.call(a,Promise.resolve()),null;let{buildId:R,params:E,nextConfig:A,isDraftMode:b,prerenderManifest:T,routerServerContext:N,isOnDemandRevalidate:j,revalidateOnlyGenerated:S,resolvedPathname:C}=v,k=(0,n.normalizeAppPath)(y),P=!!(T.dynamicRoutes[k]||T.routes[C]);if(P&&!b){let e=!!T.routes[C],t=T.dynamicRoutes[k];if(t&&!1===t.fallback&&!e)throw new x.NoFallbackError}let M=null;!P||w.isDev||b||(M="/index"===(M=C)?"/":M);let _=!0===w.isDev||!P,I=P&&!_,O=e.method||"GET",q=(0,s.getTracer)(),$=q.getActiveScopeSpan(),D={params:E,prerenderManifest:T,renderOpts:{experimental:{cacheComponents:!!A.experimental.cacheComponents,authInterrupts:!!A.experimental.authInterrupts},supportsDynamicResponse:_,incrementalCache:(0,i.getRequestMeta)(e,"incrementalCache"),cacheLifeProfiles:null==(g=A.experimental)?void 0:g.cacheLife,isRevalidate:I,waitUntil:a.waitUntil,onClose:e=>{t.on("close",e)},onAfterTaskError:void 0,onInstrumentationRequestError:(t,r,a)=>w.onRequestError(e,t,a,N)},sharedContext:{buildId:R}},H=new o.NodeNextRequest(e),U=new o.NodeNextResponse(t),F=l.NextRequestAdapter.fromNodeNextRequest(H,(0,l.signalFromNodeResponse)(t));try{let n=async r=>w.handle(F,D).finally(()=>{if(!r)return;r.setAttributes({"http.status_code":t.statusCode,"next.rsc":!1});let a=q.getRootSpanAttributes();if(!a)return;if(a.get("next.span_type")!==d.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${a.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let i=a.get("next.route");if(i){let e=`${O} ${i}`;r.setAttributes({"next.route":i,"http.route":i,"next.span_name":e}),r.updateName(e)}else r.updateName(`${O} ${e.url}`)}),o=async s=>{var o,l;let d=async({previousCacheEntry:r})=>{try{if(!(0,i.getRequestMeta)(e,"minimalMode")&&j&&S&&!r)return t.statusCode=404,t.setHeader("x-nextjs-cache","REVALIDATED"),t.end("This page could not be found"),null;let o=await n(s);e.fetchMetrics=D.renderOpts.fetchMetrics;let l=D.renderOpts.pendingWaitUntil;l&&a.waitUntil&&(a.waitUntil(l),l=void 0);let d=D.renderOpts.collectedTags;if(!P)return await (0,c.sendResponse)(H,U,o,D.renderOpts.pendingWaitUntil),null;{let e=await o.blob(),t=(0,p.toNodeOutgoingHttpHeaders)(o.headers);d&&(t[h.NEXT_CACHE_TAGS_HEADER]=d),!t["content-type"]&&e.type&&(t["content-type"]=e.type);let r=void 0!==D.renderOpts.collectedRevalidate&&!(D.renderOpts.collectedRevalidate>=h.INFINITE_CACHE)&&D.renderOpts.collectedRevalidate,a=void 0===D.renderOpts.collectedExpire||D.renderOpts.collectedExpire>=h.INFINITE_CACHE?void 0:D.renderOpts.collectedExpire;return{value:{kind:f.CachedRouteKind.APP_ROUTE,status:o.status,body:Buffer.from(await e.arrayBuffer()),headers:t},cacheControl:{revalidate:r,expire:a}}}}catch(t){throw(null==r?void 0:r.isStale)&&await w.onRequestError(e,t,{routerKind:"App Router",routePath:y,routeType:"route",revalidateReason:(0,u.getRevalidateReason)({isRevalidate:I,isOnDemandRevalidate:j})},N),t}},x=await w.handleResponse({req:e,nextConfig:A,cacheKey:M,routeKind:r.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:T,isRoutePPREnabled:!1,isOnDemandRevalidate:j,revalidateOnlyGenerated:S,responseGenerator:d,waitUntil:a.waitUntil});if(!P)return null;if((null==x||null==(o=x.value)?void 0:o.kind)!==f.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==x||null==(l=x.value)?void 0:l.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});(0,i.getRequestMeta)(e,"minimalMode")||t.setHeader("x-nextjs-cache",j?"REVALIDATED":x.isMiss?"MISS":x.isStale?"STALE":"HIT"),b&&t.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let g=(0,p.fromNodeOutgoingHttpHeaders)(x.value.headers);return(0,i.getRequestMeta)(e,"minimalMode")&&P||g.delete(h.NEXT_CACHE_TAGS_HEADER),!x.cacheControl||t.getHeader("Cache-Control")||g.get("Cache-Control")||g.set("Cache-Control",(0,m.getCacheControlHeader)(x.cacheControl)),await (0,c.sendResponse)(H,U,new Response(x.value.body,{headers:g,status:x.value.status||200})),null};$?await o($):await q.withPropagatedContext(e.headers,()=>q.trace(d.BaseServerSpan.handleRequest,{spanName:`${O} ${e.url}`,kind:s.SpanKind.SERVER,attributes:{"http.method":O,"http.target":e.url}},o))}catch(t){if($||t instanceof x.NoFallbackError||await w.onRequestError(e,t,{routerKind:"App Router",routePath:k,routeType:"route",revalidateReason:(0,u.getRevalidateReason)({isRevalidate:I,isOnDemandRevalidate:j})}),P)throw t;return await (0,c.sendResponse)(H,U,new Response(null,{status:500})),null}}}];

//# sourceMappingURL=%5Broot-of-the-server%5D__5c77a9d9._.js.map