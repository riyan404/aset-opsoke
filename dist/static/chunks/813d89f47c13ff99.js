(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,15288,e=>{"use strict";e.s(["Card",()=>s,"CardContent",()=>l,"CardDescription",()=>i,"CardHeader",()=>r,"CardTitle",()=>n]);var t=e.i(43476),a=e.i(75157);function s(e){let{className:s,...r}=e;return(0,t.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",s),...r})}function r(e){let{className:s,...r}=e;return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",s),...r})}function n(e){let{className:s,...r}=e;return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",s),...r})}function i(e){let{className:s,...r}=e;return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",s),...r})}function l(e){let{className:s,...r}=e;return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",s),...r})}},93479,e=>{"use strict";e.s(["Input",()=>s]);var t=e.i(43476),a=e.i(75157);function s(e){let{className:s,type:r,...n}=e;return(0,t.jsx)("input",{type:r,"data-slot":"input",className:(0,a.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",s),...n})}},24687,e=>{"use strict";e.s(["Textarea",()=>r]);var t=e.i(43476),a=e.i(71645),s=e.i(75157);let r=a.forwardRef((e,a)=>{let{className:r,...n}=e;return(0,t.jsx)("textarea",{className:(0,s.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:a,...n})});r.displayName="Textarea"},71689,e=>{"use strict";e.s(["ArrowLeft",()=>t],71689);let t=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},56909,e=>{"use strict";e.s(["Save",()=>t],56909);let t=(0,e.i(75254).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},54196,e=>{"use strict";e.s(["default",()=>x]);var t=e.i(43476),a=e.i(71645),s=e.i(18566),r=e.i(57951),n=e.i(15288),i=e.i(19455),l=e.i(93479),o=e.i(24687),d=e.i(88844),c=e.i(71689),m=e.i(56909);function x(){let{token:e}=(0,r.useAuth)(),x=(0,s.useRouter)(),u=(0,s.useParams)(),[h,b]=(0,a.useState)(null),[p,g]=(0,a.useState)(!0),[j,f]=(0,a.useState)(!1),[v,y]=(0,a.useState)({name:"",description:"",category:"",subcategory:"",brand:"",model:"",serialNumber:"",barcode:"",condition:"",location:"",department:"",assignedTo:"",warrantyUntil:"",notes:"",tags:"",isActive:!0});(0,a.useEffect)(()=>{u.id&&N()},[u.id]);let N=async()=>{try{g(!0);let t=await fetch("/api/assets/".concat(u.id),{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){let e=(await t.json()).asset;b(e),y({name:e.name||"",description:e.description||"",category:e.category||"",subcategory:e.subcategory||"",brand:e.brand||"",model:e.model||"",serialNumber:e.serialNumber||"",barcode:e.barcode||"",condition:e.condition||"",location:e.location||"",department:e.department||"",assignedTo:e.assignedTo||"",warrantyUntil:e.warrantyUntil?e.warrantyUntil.split("T")[0]:"",notes:e.notes||"",tags:e.tags||"",isActive:e.isActive})}else 404===t.status&&x.push("/dashboard/assets")}catch(e){console.error("Failed to fetch asset:",e)}finally{g(!1)}},C=e=>{let{name:t,value:a,type:s}=e.target;y(r=>({...r,[t]:"checkbox"===s?e.target.checked:a}))},w=async t=>{if(t.preventDefault(),!v.name||!v.category||!v.location)return void alert("Please fill in all required fields (Name, Category, Location)");try{f(!0);let t=await fetch("/api/assets/".concat(u.id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(v)});if(t.ok)alert("Asset updated successfully"),x.push("/dashboard/assets/".concat(u.id));else{let e=await t.json();alert(e.error||"Failed to update asset")}}catch(e){console.error("Error updating asset:",e),alert("Failed to update asset")}finally{f(!1)}};return p?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,t.jsx)("div",{className:"w-8 h-8 border-4 border-[#187F7E] border-t-transparent rounded-full animate-spin"})}):h?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)(i.Button,{variant:"outline",onClick:()=>x.back(),className:"p-2",children:(0,t.jsx)(c.ArrowLeft,{className:"w-4 h-4"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Edit Asset"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Update asset information"})]})]})}),(0,t.jsxs)("form",{onSubmit:w,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(n.Card,{children:[(0,t.jsxs)(n.CardHeader,{children:[(0,t.jsxs)(n.CardTitle,{className:"flex items-center",children:[(0,t.jsx)(d.Package,{className:"w-5 h-5 mr-2"}),"Basic Information"]}),(0,t.jsx)(n.CardDescription,{children:"Essential asset details and identification"})]}),(0,t.jsxs)(n.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Asset Name *"}),(0,t.jsx)(l.Input,{type:"text",name:"name",value:v.name,onChange:C,required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,t.jsx)(o.Textarea,{name:"description",value:v.description,onChange:C,rows:3})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),(0,t.jsxs)("select",{name:"category",value:v.category,onChange:C,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#187F7E]",required:!0,children:[(0,t.jsx)("option",{value:"",children:"Select Category"}),(0,t.jsx)("option",{value:"COMPUTER",children:"Computer"}),(0,t.jsx)("option",{value:"FURNITURE",children:"Furniture"}),(0,t.jsx)("option",{value:"VEHICLE",children:"Vehicle"}),(0,t.jsx)("option",{value:"EQUIPMENT",children:"Equipment"}),(0,t.jsx)("option",{value:"SOFTWARE",children:"Software"}),(0,t.jsx)("option",{value:"OTHER",children:"Other"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subcategory"}),(0,t.jsx)(l.Input,{type:"text",name:"subcategory",value:v.subcategory,onChange:C})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Brand"}),(0,t.jsx)(l.Input,{type:"text",name:"brand",value:v.brand,onChange:C})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Model"}),(0,t.jsx)(l.Input,{type:"text",name:"model",value:v.model,onChange:C})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Serial Number"}),(0,t.jsx)(l.Input,{type:"text",name:"serialNumber",value:v.serialNumber,onChange:C})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Barcode"}),(0,t.jsx)(l.Input,{type:"text",name:"barcode",value:v.barcode,onChange:C})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Condition"}),(0,t.jsxs)("select",{name:"condition",value:v.condition,onChange:C,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#187F7E]",children:[(0,t.jsx)("option",{value:"EXCELLENT",children:"Excellent"}),(0,t.jsx)("option",{value:"GOOD",children:"Good"}),(0,t.jsx)("option",{value:"FAIR",children:"Fair"}),(0,t.jsx)("option",{value:"POOR",children:"Poor"}),(0,t.jsx)("option",{value:"DAMAGED",children:"Damaged"}),(0,t.jsx)("option",{value:"DISPOSED",children:"Disposed"})]})]})]})]}),(0,t.jsxs)(n.Card,{children:[(0,t.jsxs)(n.CardHeader,{children:[(0,t.jsx)(n.CardTitle,{children:"Location & Assignment"}),(0,t.jsx)(n.CardDescription,{children:"Location details and assignment information"})]}),(0,t.jsxs)(n.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location *"}),(0,t.jsx)(l.Input,{type:"text",name:"location",value:v.location,onChange:C,required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),(0,t.jsx)(l.Input,{type:"text",name:"department",value:v.department,onChange:C})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assigned To"}),(0,t.jsx)(l.Input,{type:"text",name:"assignedTo",value:v.assignedTo,onChange:C})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Warranty Until"}),(0,t.jsx)(l.Input,{type:"date",name:"warrantyUntil",value:v.warrantyUntil,onChange:C})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),(0,t.jsx)(o.Textarea,{name:"notes",value:v.notes,onChange:C,rows:3})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags"}),(0,t.jsx)(l.Input,{type:"text",name:"tags",value:v.tags,onChange:C,placeholder:"Separate tags with commas"})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("input",{type:"checkbox",name:"isActive",checked:v.isActive,onChange:C,className:"h-4 w-4 text-[#187F7E] focus:ring-[#187F7E] border-gray-300 rounded"}),(0,t.jsx)("label",{className:"ml-2 block text-sm text-gray-900",children:"Asset is active"})]})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-end space-x-4",children:[(0,t.jsx)(i.Button,{type:"button",variant:"outline",onClick:()=>x.back(),children:"Cancel"}),(0,t.jsxs)(i.Button,{type:"submit",disabled:j,className:"bg-[#187F7E] hover:bg-[#00AAA8]",children:[j?(0,t.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}):(0,t.jsx)(m.Save,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]})]})]}):(0,t.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(d.Package,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Asset Not Found"}),(0,t.jsx)("p",{className:"text-gray-600",children:"The asset you're trying to edit doesn't exist."})]})})}}]);